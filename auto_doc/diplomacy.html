<!DOCTYPE html>

<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/assets/css/style.css">
  <!--<link rel="icon" type="image/png" href="/assets/civfanatics_icon.png">-->
    <title>diplomacy</title>
    <link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Lua for Civilization II" />
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>diplomacy | Lua for Civilization II</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="diplomacy" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Reference materials and lessons for using Lua to program events for Civilization II: Test of Time" />
<meta property="og:description" content="Reference materials and lessons for using Lua to program events for Civilization II: Test of Time" />
<link rel="canonical" href="/auto_doc/diplomacy.html" />
<meta property="og:url" content="/auto_doc/diplomacy.html" />
<meta property="og:site_name" content="Lua for Civilization II" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="diplomacy" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Reference materials and lessons for using Lua to program events for Civilization II: Test of Time","headline":"diplomacy","url":"/auto_doc/diplomacy.html"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body><header class="site-header">
  <div class="wrapper">
    <!--img src="/assets/logo-cfc.png" class="center"--><a class="site-title" rel="author" href="/">Lua for Civilization II</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/auto_doc/autoIndex.html">Function Docs</a><a class="page-link" href="/executionPoints.html">Execution Points</a><a class="page-link" href="/lua_lessons/lessons_toc.html">Lua Lessons</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <head><title>diplomacy.lua Documentation</title>
</head>
<article class="post">

  <header class="post-header">
    <h1 class="post-title">diplomacy</h1>
  </header>
  
  <div class="toc-div">
    <h2 class="toc-header">Contents</h2>
    <ul><li><a href="#allianceexists">allianceExists</a></li><li><a href="#alwaysenabletreatychanges">alwaysEnableTreatyChanges</a></li><li><a href="#cantribeschangetreatiesendogenously">canTribesChangeTreatiesEndogenously</a></li><li><a href="#ceasefireexists">ceaseFireExists</a></li><li><a href="#checktreaties">checkTreaties</a></li><li><a href="#clearalliance">clearAlliance</a></li><li><a href="#clearceasefire">clearCeaseFire</a></li><li><a href="#clearcontact">clearContact</a></li><li><a href="#clearembassywith">clearEmbassyWith</a></li><li><a href="#clearpeacetreaty">clearPeaceTreaty</a></li><li><a href="#clearvendettawith">clearVendettaWith</a></li><li><a href="#clearwar">clearWar</a></li><li><a href="#contactexists">contactExists</a></li><li><a href="#defineendogenousflags">defineEndogenousFlags</a></li><li><a href="#disableendogenoustreatychanges">disableEndogenousTreatyChanges</a></li><li><a href="#disableendogenoustreatychangesbydefault">disableEndogenousTreatyChangesByDefault</a></li><li><a href="#disabletreatychanges">disableTreatyChanges</a></li><li><a href="#enableendogenoustreatychanges">enableEndogenousTreatyChanges</a></li><li><a href="#enabletreatychanges">enableTreatyChanges</a></li><li><a href="#givegiftmenu">giveGiftMenu</a></li><li><a href="#hasembassywith">hasEmbassyWith</a></li><li><a href="#hasvendettawith">hasVendettaWith</a></li><li><a href="#linkstate">linkState</a></li><li><a href="#onactivateunit">onActivateUnit</a></li><li><a href="#oncitytaken">onCityTaken</a></li><li><a href="#ondatecheck">onDateCheck</a></li><li><a href="#onnegotiation">onNegotiation</a></li><li><a href="#peacetreatyexists">peaceTreatyExists</a></li><li><a href="#registercangiveawaytilefn">registerCanGiveAwayTileFn</a></li><li><a href="#registercangivegiftfunction">registerCanGiveGiftFunction</a></li><li><a href="#registerforbidtechfromconquestfunction">registerForbidTechFromConquestFunction</a></li><li><a href="#registerforbidtechtheftfunction">registerForbidTechTheftFunction</a></li><li><a href="#registerforbidtechtradefunction">registerForbidTechTradeFunction</a></li><li><a href="#reservedtechgroup">reservedTechGroup</a></li><li><a href="#resetendogenoustreatychanges">resetEndogenousTreatyChanges</a></li><li><a href="#setalliance">setAlliance</a></li><li><a href="#setceasefire">setCeaseFire</a></li><li><a href="#setcontact">setContact</a></li><li><a href="#setdiplomacyreversalmessage">setDiplomacyReversalMessage</a></li><li><a href="#setembassywith">setEmbassyWith</a></li><li><a href="#seteventtreatiesonly">setEventTreatiesOnly</a></li><li><a href="#setpeacetreaty">setPeaceTreaty</a></li><li><a href="#setvendettawith">setVendettaWith</a></li><li><a href="#setwar">setWar</a></li><li><a href="#techtransfertabletofunctions">techTransferTableToFunctions</a></li><li><a href="#warexists">warExists</a></li></ul></div>  
  
  <div class="post-content">
    <h1 id="diplomacy">
  
  
    diplomacy <a href="#diplomacy"><span class="self-link">&#128279</span></a>
  
  
</h1>
    

<p>undefined</p>
<h3 id="allianceexists">
  
  
    allianceExists <a href="#allianceexists"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.allianceExists(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if an alliance exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>, and false otherwise.</p>
<h3 id="alwaysenabletreatychanges">
  
  
    alwaysEnableTreatyChanges <a href="#alwaysenabletreatychanges"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.alwaysEnableTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Generates an error, so the scenario designer knows to update
to the new diplomacy functions.</p>
<h3 id="cantribeschangetreatiesendogenously">
  
  
    canTribesChangeTreatiesEndogenously <a href="#cantribeschangetreatiesendogenously"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.canTribesChangeTreatiesEndogenously(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> are allowed to change their treaty status with each other through diplomacy.  This is the default behaviour, but it can be changed by calling <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChangesByDefault</code> in diplomacySettings.lua.  It can also be changed by calling <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChanges</code> or <code class="language-plaintext highlighter-rouge">diplomacy.enableEndogenousTreatyChanges</code> as part of normal events.</p>
<h3 id="ceasefireexists">
  
  
    ceaseFireExists <a href="#ceasefireexists"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.ceaseFireExists(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if a cease fire treaty exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>, and false otherwise.</p>
<h3 id="checktreaties">
  
  
    checkTreaties <a href="#checktreaties"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.checkTreaties()
</code></pre></div></div>
<p>The scenario designer should not need to call this function.
Checks the treaties between tribes and compares them to expectations.
If tribes are not allowed to change their treaty status with each other
through diplomacy, then the treaty status is reset to the expected value.
If they can change treaties, the expected value is updated to match the
actual value.</p>
<h3 id="clearalliance">
  
  
    clearAlliance <a href="#clearalliance"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearAlliance(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that an alliance does not exist between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="clearceasefire">
  
  
    clearCeaseFire <a href="#clearceasefire"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearCeaseFire(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that a cease fire does not exist between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="clearcontact">
  
  
    clearContact <a href="#clearcontact"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearContact(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that “contact” does not exist between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="clearembassywith">
  
  
    clearEmbassyWith <a href="#clearembassywith"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearEmbassyWith(ownerTribe: tribeObject, hostTribe: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that the <code class="language-plaintext highlighter-rouge">ownerTribe</code> does not have an embassy with the <code class="language-plaintext highlighter-rouge">hostTribe</code>.  That is, the <code class="language-plaintext highlighter-rouge">ownerTribe</code> will not receive an intelligence reports about <code class="language-plaintext highlighter-rouge">hostTribe</code>.</p>
<h3 id="clearpeacetreaty">
  
  
    clearPeaceTreaty <a href="#clearpeacetreaty"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearPeaceTreaty(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that a peace treaty does not exist between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="clearvendettawith">
  
  
    clearVendettaWith <a href="#clearvendettawith"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearVendettaWith(angryTribe: tribeObject, offendingTribe: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that the <code class="language-plaintext highlighter-rouge">angryTribe</code> does not have a vendetta with the <code class="language-plaintext highlighter-rouge">offendingTribe</code>.</p>
<h3 id="clearwar">
  
  
    clearWar <a href="#clearwar"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearWar(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Clears the “war” “treaty” between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.  Does not establish
any other treaty between the tribes.</p>
<h3 id="contactexists">
  
  
    contactExists <a href="#contactexists"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.contactExists(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if “contact” “treaties” exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>, and false otherwise.</p>
<h3 id="defineendogenousflags">
  
  
    defineEndogenousFlags <a href="#defineendogenousflags"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.defineEndogenousFlags()
</code></pre></div></div>
<p>It is not expected that the scenario designer will need to use this function.</p>

<p>This function is called in events.lua to define the flags that allow
the diplomacy module to keep track of whether two tribes can change
their treaty status with each other through diplomacy.</p>

<p>It is called in events.lua (instead of in diplomacy.lua) so that
<code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChangesByDefault</code> can be called
in diplomacySettings.lua before the flags are defined, which
allows the default value to be set to false for some tribes.</p>
<h3 id="disableendogenoustreatychanges">
  
  
    disableEndogenousTreatyChanges <a href="#disableendogenoustreatychanges"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.disableEndogenousTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Calling this function prevents <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> from changing their treaty status with each other through diplomacy.  If they change
their treaty status, events will undo the change at the earliest opportunity.  All treaty changes will have to be made using the diplomacy module.
The function <code class="language-plaintext highlighter-rouge">diplomacy.enableEndogenousTreatyChanges</code> can be used to re-enable treaty changes through diplomacy.
Vendetta and Embassy status can still be changed.</p>
<h3 id="disableendogenoustreatychangesbydefault">
  
  
    disableEndogenousTreatyChangesByDefault <a href="#disableendogenoustreatychangesbydefault"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.disableEndogenousTreatyChangesByDefault(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Call this function in diplomacySettings.lua to disable the ability of <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> to change their treaty status with each other through diplomacy by default.  This is useful if you want to use the diplomacy module to control all treaty changes, and you don’t want the AI to change treaties on its own.  You can use <code class="language-plaintext highlighter-rouge">diplomacy.enableEndogenousTreatyChanges</code> if you want two tribes to be able to change their treaty status with each other through diplomacy during
part of your scenario.
Vendetta and Embassy status can still be changed.</p>
<h3 id="disabletreatychanges">
  
  
    disableTreatyChanges <a href="#disabletreatychanges"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.disableTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Calls diplomacy.disableEndogenousTreatyChanges for <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.
This is the name of a function from an earlier version of the diplomacy module.</p>
<h3 id="enableendogenoustreatychanges">
  
  
    enableEndogenousTreatyChanges <a href="#enableendogenoustreatychanges"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.enableEndogenousTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Calling this function enables <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> to change their treaty status with each other through diplomacy.  This ability
may have been disabled by a call to <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChanges</code>, or it may have been disabled by default (see <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChangesByDefault</code>).</p>
<h3 id="enabletreatychanges">
  
  
    enableTreatyChanges <a href="#enabletreatychanges"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.enableTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Calls diplomacy.enableEndogenousTreatyChanges for <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.
This is the name of a function from an earlier version of the diplomacy module.</p>
<h3 id="givegiftmenu">
  
  
    giveGiftMenu <a href="#givegiftmenu"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.giveGiftMenu()
</code></pre></div></div>
<h3 id="hasembassywith">
  
  
    hasEmbassyWith <a href="#hasembassywith"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.hasEmbassyWith(ownerTribe: tribeObject, hostTribe: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if the <code class="language-plaintext highlighter-rouge">ownerTribe</code> has an embassy with the <code class="language-plaintext highlighter-rouge">hostTribe</code>, and false otherwise.  That is, the <code class="language-plaintext highlighter-rouge">ownerTribe</code> receives an intelligence report about <code class="language-plaintext highlighter-rouge">hostTribe</code>.</p>
<h3 id="hasvendettawith">
  
  
    hasVendettaWith <a href="#hasvendettawith"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.hasVendettaWith(angryTribe: tribeObject, offendingTribe: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if the <code class="language-plaintext highlighter-rouge">angryTribe</code> has a vendetta with the <code class="language-plaintext highlighter-rouge">offendingTribe</code>, and false otherwise.</p>
<h3 id="linkstate">
  
  
    linkState <a href="#linkstate"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>diplomacy.linkState --&gt; function
</code></pre></div></div>
<h3 id="onactivateunit">
  
  
    onActivateUnit <a href="#onactivateunit"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.onActivateUnit(unit: any, source: any, repeatedActivation: any)
</code></pre></div></div>
<h3 id="oncitytaken">
  
  
    onCityTaken <a href="#oncitytaken"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.onCityTaken(city: any, defender: any)
</code></pre></div></div>
<h3 id="ondatecheck">
  
  
    onDateCheck <a href="#ondatecheck"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.onDateCheck()
</code></pre></div></div>
<h3 id="onnegotiation">
  
  
    onNegotiation <a href="#onnegotiation"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.onNegotiation(talker: any, listener: any, canNegotiate: any)
</code></pre></div></div>
<h3 id="peacetreatyexists">
  
  
    peaceTreatyExists <a href="#peacetreatyexists"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.peaceTreatyExists(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if a peace treaty exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>, and false otherwise.</p>
<h3 id="registercangiveawaytilefn">
  
  
    registerCanGiveAwayTileFn <a href="#registercangiveawaytilefn"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.registerCanGiveAwayTileFn(canGiveAwayTileFn: fun(tile: tileObject, givingTribe: tribeObject, receivingTribe: tribeObject):boolean)
</code></pre></div></div>
<p>Registers a function(tile,givingTribe,receivingTribe)<br />
to determine whether the givingTribe can transfer ownership
of everything (units and city) on the tile to the receivingTribe.</p>

<p>There is no need to check that the giving tribe owns the units/city
on the tile.  That is taken care of within the diplomacy module.</p>
<h3 id="registercangivegiftfunction">
  
  
    registerCanGiveGiftFunction <a href="#registercangivegiftfunction"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.registerCanGiveGiftFunction(canGiveGiftFunction: fun(giftGiver: tribeObject, giftReceiver: tribeObject):boolean)
</code></pre></div></div>
<p>Registers a function(giftGiver,giftReceiver) that determines whether the <code class="language-plaintext highlighter-rouge">giftGiver</code> can give a gift to the <code class="language-plaintext highlighter-rouge">giftReceiver</code> through the gift giving menu.</p>

<p>If the function returns true, then the giftReceiver will be an option in
the gift giving menu for giftGiver.</p>
<h3 id="registerforbidtechfromconquestfunction">
  
  
    registerForbidTechFromConquestFunction <a href="#registerforbidtechfromconquestfunction"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.registerForbidTechFromConquestFunction(forbidTechFromConquest: fun(tech: techObject, conqueringTribe: tribeObject, losingTribe: tribeObject):boolean)
</code></pre></div></div>
<p>Register a function to determine whether a tribe can receive a technology when conquering another tribe’s city.<br /><br />
forbidTechFromConquest(tech,conqueringTribe,losingTribe)–&gt;bool
 If true, the <code class="language-plaintext highlighter-rouge">conqueringTribe</code> can’t receive the <code class="language-plaintext highlighter-rouge">tech</code>
 from the <code class="language-plaintext highlighter-rouge">losingTribe</code> as a result of conquering a city
 owned by the <code class="language-plaintext highlighter-rouge">losingTribe</code>.
 If false (or nil), the <code class="language-plaintext highlighter-rouge">conqueringTribe</code> can receive the <code class="language-plaintext highlighter-rouge">tech</code>
 from the <code class="language-plaintext highlighter-rouge">losingTribe</code> as a result of conquering a city
 owned by the <code class="language-plaintext highlighter-rouge">losingTribe</code>.</p>
<h3 id="registerforbidtechtheftfunction">
  
  
    registerForbidTechTheftFunction <a href="#registerforbidtechtheftfunction"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.registerForbidTechTheftFunction(forbidTechTheft: fun(tech: techObject, thievingTribe: tribeObject, thievingUnit: unitObject):boolean)
</code></pre></div></div>
<p>Register a function to determine whether a tribe can
 steal a technology using a diplomatic (role 6) unit.<br /><br />
 forbidTechTheft(tech,thievingTribe,thievingUnit)–&gt;boolean
 If true, the <code class="language-plaintext highlighter-rouge">thievingTribe</code> can’t steal the <code class="language-plaintext highlighter-rouge">tech</code>
 from another tribe using the <code class="language-plaintext highlighter-rouge">thievingUnit</code> (if it has 
 role 6 for diplomatic units).
 If false (or nil), the <code class="language-plaintext highlighter-rouge">thievingTribe</code> can steal the <code class="language-plaintext highlighter-rouge">tech</code>.
 (The giving tribe can’t be specified, because there isn’t a
 way to control which tribe the spy or diplomat steals from.)</p>
<h3 id="registerforbidtechtradefunction">
  
  
    registerForbidTechTradeFunction <a href="#registerforbidtechtradefunction"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.registerForbidTechTradeFunction(forbidTechTrade: fun(tech: techObject, receiverTribe: tribeObject, giverTribe: tribeObject):boolean)
</code></pre></div></div>
<p>Register a function to determine whether a tribe can receive a technology from another tribe through diplomacy.<br /><br />
 forbidTechTrade(tech,receiverTribe,giverTribe)–&gt;bool
 If true, the <code class="language-plaintext highlighter-rouge">giverTribe</code> can’t give or trade the tech
 to the <code class="language-plaintext highlighter-rouge">receiverTribe</code>. (Either in in-game negotiations, or
 using the diplomacy module’s gift system.)
 If false (or nil), the <code class="language-plaintext highlighter-rouge">giverTribe</code> can give or trade the tech
 to the <code class="language-plaintext highlighter-rouge">receiverTribe</code>.</p>
<h3 id="reservedtechgroup">
  
  
    reservedTechGroup <a href="#reservedtechgroup"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>diplomacy.reservedTechGroup --&gt; integer
</code></pre></div></div>
<h3 id="resetendogenoustreatychanges">
  
  
    resetEndogenousTreatyChanges <a href="#resetendogenoustreatychanges"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.resetEndogenousTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Calling this function changes whether <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> can change their treaty status with each other through diplomacy.  Ordinarily, the
ability to change treaty status is enabled by default (in which case this function restores the default behaviour after a call to <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChanges</code>).  However, if <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChangesByDefault</code> was called during initialization, then the ability to change treaty status is disabled by default (in which case this function restores the default behaviour after a call to <code class="language-plaintext highlighter-rouge">diplomacy.enableEndogenousTreatyChanges</code>).</p>
<h3 id="setalliance">
  
  
    setAlliance <a href="#setalliance"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setAlliance(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that an alliance exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="setceasefire">
  
  
    setCeaseFire <a href="#setceasefire"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setCeaseFire(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that a cease fire exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="setcontact">
  
  
    setContact <a href="#setcontact"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setContact(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that “contact” exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="setdiplomacyreversalmessage">
  
  
    setDiplomacyReversalMessage <a href="#setdiplomacyreversalmessage"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setDiplomacyReversalMessage(message: string|false|nil)
</code></pre></div></div>
<p>Sets the message that is displayed when a treaty change is undone.
%STRING1 and %STRING2 are replaced with the names of the tribes that
changed their treaty status.
Calling this function with a value of nil or false will prevent a message
from being displayed.
The default value is “You may have received a message that the %STRING1 and %STRING2 have changed their treaty status.  This has been undone.”</p>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- A string is a data type native to Lua which consists of a sequence of characters. These often represent text to be displayed, but are also useful in other contexts. Strings are commonly used as keys in tables, since they make code more readable.</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Programming in Lua, 2.4 -- Strings](https://www.lua.org/pil/2.4.html)</span>
<span class="c1">-- A string is a data type native to Lua which consists of a sequence of characters. These often represent text to be displayed, but are also useful in other contexts. Strings are commonly used as keys in tables, since they make code more readable.</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Programming in Lua, 2.4 -- Strings](https://www.lua.org/pil/2.4.html)</span>
<span class="c1">-- The 'nil' data type has a single value nil, and tends to represent the absence of a value. Nil is a data type which is native to Lua, and is considered 'falsy' in logical statements. Unassigned keys in a table return nil as their value.</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Programming in Lua, 2.1 -- Nil](https://www.lua.org/pil/2.1.html)</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Tutorialspoint Lua -- Data Types](https://www.tutorialspoint.com/lua/lua_data_types.htm)</span>
<span class="c1">-- The 'nil' data type has a single value nil, and tends to represent the absence of a value. Nil is a data type which is native to Lua, and is considered 'falsy' in logical statements. Unassigned keys in a table return nil as their value.</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Programming in Lua, 2.1 -- Nil](https://www.lua.org/pil/2.1.html)</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Tutorialspoint Lua -- Data Types](https://www.tutorialspoint.com/lua/lua_data_types.htm)</span>
<span class="n">message</span><span class="p">:</span>
    <span class="err">\|</span> <span class="kc">false</span>
</code></pre></div></div>
<h3 id="setembassywith">
  
  
    setEmbassyWith <a href="#setembassywith"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setEmbassyWith(ownerTribe: tribeObject, hostTribe: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that the <code class="language-plaintext highlighter-rouge">ownerTribe</code> has an embassy with the <code class="language-plaintext highlighter-rouge">hostTribe</code>.  That is, the <code class="language-plaintext highlighter-rouge">ownerTribe</code> will receive an intelligence reports about <code class="language-plaintext highlighter-rouge">hostTribe</code>.</p>
<h3 id="seteventtreatiesonly">
  
  
    setEventTreatiesOnly <a href="#seteventtreatiesonly"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setEventTreatiesOnly(eventTreatiesMsg: string)
</code></pre></div></div>
<p>Generates an error, so the scenario designer knows to update
to the new diplomacy functions.</p>
<h3 id="setpeacetreaty">
  
  
    setPeaceTreaty <a href="#setpeacetreaty"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setPeaceTreaty(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that a peace treaty exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="setvendettawith">
  
  
    setVendettaWith <a href="#setvendettawith"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setVendettaWith(angryTribe: tribeObject, offendingTribe: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that the <code class="language-plaintext highlighter-rouge">angryTribe</code> has a vendetta with the <code class="language-plaintext highlighter-rouge">offendingTribe</code>.</p>
<h3 id="setwar">
  
  
    setWar <a href="#setwar"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setWar(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> are at war with each other.
(Note, you may also have to use <code class="language-plaintext highlighter-rouge">civ.makeAggression</code> to make the tribes actually fight each other.)</p>
<h3 id="techtransfertabletofunctions">
  
  
    techTransferTableToFunctions <a href="#techtransfertabletofunctions"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.techTransferTableToFunctions(stopTechTransferTable: table)
  -&gt; forbidTechTrade: fun(tech: techObject, receiverTribe: tribeObject, giverTribe: tribeObject):boolean
  2. forbidTechFromConquest: fun(tech: techObject, conqueringTribe: tribeObject, losingTribe: tribeObject):boolean
  3. forbidTechTheft: fun(tech: techObject, thievingTribe: tribeObject, thievingUnit: unitObject):boolean
</code></pre></div></div>
<p>stopTechTransferTable[techObject.id] = {
    * noPrereqs = bool
        - If true, then the tech can’t be given or traded to another tribe, or conquered, or stolen, if the receiving tribe doesn’t have the tech’s prerequisites.
        - If false (or nil), a tribe can receive the tech even if it  doesn’t have the tech’s prerequisites.
    * noTrade = bool
        - If true, then the tech can’t be given or traded to another tribe.
        - If false (or nil), a tribe can receive the tech through diplomacy.
    * noConquest = bool
        - If true, then the tech can’t be received by conquering a city.
        - If false (or nil), a tribe can receive the tech by conquering a city.
    * noTheft = bool
        - If true, then the tech can’t be stolen with a diplomat or spy.
        - If false (or nil), a tribe can steal the tech.
    }
    If there is no value for a particular tech object, then all these
    values are considered false</p>

<p>@<em>param</em> <code class="language-plaintext highlighter-rouge">stopTechTransferTable</code> — stopTechTransferTable[techObject.id] = {noPrereqs=bool,noTrade=bool,noConquest=bool,noTheft=bool}</p>
<h3 id="warexists">
  
  
    warExists <a href="#warexists"><span class="self-link">&#128279</span></a>
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.warExists(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> are at war with each other, and false otherwise.  (Note that if tribes have no contact with each other, they can attack each other’s units but will not be at war.)</p>

  </div>
</article>
<!--
    <h1 id="diplomacy">
  
  
    <a href="#diplomacy">&#128279</a> diplomacy
  
  
</h1>
    

<p>undefined</p>
<h3 id="allianceexists">
  
  
    <a href="#allianceexists">&#128279</a> allianceExists
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.allianceExists(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if an alliance exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>, and false otherwise.</p>
<h3 id="alwaysenabletreatychanges">
  
  
    <a href="#alwaysenabletreatychanges">&#128279</a> alwaysEnableTreatyChanges
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.alwaysEnableTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Generates an error, so the scenario designer knows to update
to the new diplomacy functions.</p>
<h3 id="cantribeschangetreatiesendogenously">
  
  
    <a href="#cantribeschangetreatiesendogenously">&#128279</a> canTribesChangeTreatiesEndogenously
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.canTribesChangeTreatiesEndogenously(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> are allowed to change their treaty status with each other through diplomacy.  This is the default behaviour, but it can be changed by calling <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChangesByDefault</code> in diplomacySettings.lua.  It can also be changed by calling <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChanges</code> or <code class="language-plaintext highlighter-rouge">diplomacy.enableEndogenousTreatyChanges</code> as part of normal events.</p>
<h3 id="ceasefireexists">
  
  
    <a href="#ceasefireexists">&#128279</a> ceaseFireExists
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.ceaseFireExists(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if a cease fire treaty exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>, and false otherwise.</p>
<h3 id="checktreaties">
  
  
    <a href="#checktreaties">&#128279</a> checkTreaties
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.checkTreaties()
</code></pre></div></div>
<p>The scenario designer should not need to call this function.
Checks the treaties between tribes and compares them to expectations.
If tribes are not allowed to change their treaty status with each other
through diplomacy, then the treaty status is reset to the expected value.
If they can change treaties, the expected value is updated to match the
actual value.</p>
<h3 id="clearalliance">
  
  
    <a href="#clearalliance">&#128279</a> clearAlliance
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearAlliance(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that an alliance does not exist between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="clearceasefire">
  
  
    <a href="#clearceasefire">&#128279</a> clearCeaseFire
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearCeaseFire(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that a cease fire does not exist between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="clearcontact">
  
  
    <a href="#clearcontact">&#128279</a> clearContact
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearContact(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that “contact” does not exist between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="clearembassywith">
  
  
    <a href="#clearembassywith">&#128279</a> clearEmbassyWith
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearEmbassyWith(ownerTribe: tribeObject, hostTribe: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that the <code class="language-plaintext highlighter-rouge">ownerTribe</code> does not have an embassy with the <code class="language-plaintext highlighter-rouge">hostTribe</code>.  That is, the <code class="language-plaintext highlighter-rouge">ownerTribe</code> will not receive an intelligence reports about <code class="language-plaintext highlighter-rouge">hostTribe</code>.</p>
<h3 id="clearpeacetreaty">
  
  
    <a href="#clearpeacetreaty">&#128279</a> clearPeaceTreaty
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearPeaceTreaty(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that a peace treaty does not exist between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="clearvendettawith">
  
  
    <a href="#clearvendettawith">&#128279</a> clearVendettaWith
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearVendettaWith(angryTribe: tribeObject, offendingTribe: tribeObject)
</code></pre></div></div>
<p>Clears treaties so that the <code class="language-plaintext highlighter-rouge">angryTribe</code> does not have a vendetta with the <code class="language-plaintext highlighter-rouge">offendingTribe</code>.</p>
<h3 id="clearwar">
  
  
    <a href="#clearwar">&#128279</a> clearWar
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.clearWar(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Clears the “war” “treaty” between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.  Does not establish
any other treaty between the tribes.</p>
<h3 id="contactexists">
  
  
    <a href="#contactexists">&#128279</a> contactExists
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.contactExists(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if “contact” “treaties” exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>, and false otherwise.</p>
<h3 id="defineendogenousflags">
  
  
    <a href="#defineendogenousflags">&#128279</a> defineEndogenousFlags
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.defineEndogenousFlags()
</code></pre></div></div>
<p>It is not expected that the scenario designer will need to use this function.</p>

<p>This function is called in events.lua to define the flags that allow
the diplomacy module to keep track of whether two tribes can change
their treaty status with each other through diplomacy.</p>

<p>It is called in events.lua (instead of in diplomacy.lua) so that
<code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChangesByDefault</code> can be called
in diplomacySettings.lua before the flags are defined, which
allows the default value to be set to false for some tribes.</p>
<h3 id="disableendogenoustreatychanges">
  
  
    <a href="#disableendogenoustreatychanges">&#128279</a> disableEndogenousTreatyChanges
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.disableEndogenousTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Calling this function prevents <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> from changing their treaty status with each other through diplomacy.  If they change
their treaty status, events will undo the change at the earliest opportunity.  All treaty changes will have to be made using the diplomacy module.
The function <code class="language-plaintext highlighter-rouge">diplomacy.enableEndogenousTreatyChanges</code> can be used to re-enable treaty changes through diplomacy.
Vendetta and Embassy status can still be changed.</p>
<h3 id="disableendogenoustreatychangesbydefault">
  
  
    <a href="#disableendogenoustreatychangesbydefault">&#128279</a> disableEndogenousTreatyChangesByDefault
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.disableEndogenousTreatyChangesByDefault(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Call this function in diplomacySettings.lua to disable the ability of <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> to change their treaty status with each other through diplomacy by default.  This is useful if you want to use the diplomacy module to control all treaty changes, and you don’t want the AI to change treaties on its own.  You can use <code class="language-plaintext highlighter-rouge">diplomacy.enableEndogenousTreatyChanges</code> if you want two tribes to be able to change their treaty status with each other through diplomacy during
part of your scenario.
Vendetta and Embassy status can still be changed.</p>
<h3 id="disabletreatychanges">
  
  
    <a href="#disabletreatychanges">&#128279</a> disableTreatyChanges
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.disableTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Calls diplomacy.disableEndogenousTreatyChanges for <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.
This is the name of a function from an earlier version of the diplomacy module.</p>
<h3 id="enableendogenoustreatychanges">
  
  
    <a href="#enableendogenoustreatychanges">&#128279</a> enableEndogenousTreatyChanges
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.enableEndogenousTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Calling this function enables <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> to change their treaty status with each other through diplomacy.  This ability
may have been disabled by a call to <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChanges</code>, or it may have been disabled by default (see <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChangesByDefault</code>).</p>
<h3 id="enabletreatychanges">
  
  
    <a href="#enabletreatychanges">&#128279</a> enableTreatyChanges
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.enableTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Calls diplomacy.enableEndogenousTreatyChanges for <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.
This is the name of a function from an earlier version of the diplomacy module.</p>
<h3 id="givegiftmenu">
  
  
    <a href="#givegiftmenu">&#128279</a> giveGiftMenu
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.giveGiftMenu()
</code></pre></div></div>
<h3 id="hasembassywith">
  
  
    <a href="#hasembassywith">&#128279</a> hasEmbassyWith
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.hasEmbassyWith(ownerTribe: tribeObject, hostTribe: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if the <code class="language-plaintext highlighter-rouge">ownerTribe</code> has an embassy with the <code class="language-plaintext highlighter-rouge">hostTribe</code>, and false otherwise.  That is, the <code class="language-plaintext highlighter-rouge">ownerTribe</code> receives an intelligence report about <code class="language-plaintext highlighter-rouge">hostTribe</code>.</p>
<h3 id="hasvendettawith">
  
  
    <a href="#hasvendettawith">&#128279</a> hasVendettaWith
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.hasVendettaWith(angryTribe: tribeObject, offendingTribe: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if the <code class="language-plaintext highlighter-rouge">angryTribe</code> has a vendetta with the <code class="language-plaintext highlighter-rouge">offendingTribe</code>, and false otherwise.</p>
<h3 id="linkstate">
  
  
    <a href="#linkstate">&#128279</a> linkState
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>diplomacy.linkState --&gt; function
</code></pre></div></div>
<h3 id="onactivateunit">
  
  
    <a href="#onactivateunit">&#128279</a> onActivateUnit
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.onActivateUnit(unit: any, source: any, repeatedActivation: any)
</code></pre></div></div>
<h3 id="oncitytaken">
  
  
    <a href="#oncitytaken">&#128279</a> onCityTaken
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.onCityTaken(city: any, defender: any)
</code></pre></div></div>
<h3 id="ondatecheck">
  
  
    <a href="#ondatecheck">&#128279</a> onDateCheck
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.onDateCheck()
</code></pre></div></div>
<h3 id="onnegotiation">
  
  
    <a href="#onnegotiation">&#128279</a> onNegotiation
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.onNegotiation(talker: any, listener: any, canNegotiate: any)
</code></pre></div></div>
<h3 id="peacetreatyexists">
  
  
    <a href="#peacetreatyexists">&#128279</a> peaceTreatyExists
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.peaceTreatyExists(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if a peace treaty exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>, and false otherwise.</p>
<h3 id="registercangiveawaytilefn">
  
  
    <a href="#registercangiveawaytilefn">&#128279</a> registerCanGiveAwayTileFn
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.registerCanGiveAwayTileFn(canGiveAwayTileFn: fun(tile: tileObject, givingTribe: tribeObject, receivingTribe: tribeObject):boolean)
</code></pre></div></div>
<p>Registers a function(tile,givingTribe,receivingTribe)<br />
to determine whether the givingTribe can transfer ownership
of everything (units and city) on the tile to the receivingTribe.</p>

<p>There is no need to check that the giving tribe owns the units/city
on the tile.  That is taken care of within the diplomacy module.</p>
<h3 id="registercangivegiftfunction">
  
  
    <a href="#registercangivegiftfunction">&#128279</a> registerCanGiveGiftFunction
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.registerCanGiveGiftFunction(canGiveGiftFunction: fun(giftGiver: tribeObject, giftReceiver: tribeObject):boolean)
</code></pre></div></div>
<p>Registers a function(giftGiver,giftReceiver) that determines whether the <code class="language-plaintext highlighter-rouge">giftGiver</code> can give a gift to the <code class="language-plaintext highlighter-rouge">giftReceiver</code> through the gift giving menu.</p>

<p>If the function returns true, then the giftReceiver will be an option in
the gift giving menu for giftGiver.</p>
<h3 id="registerforbidtechfromconquestfunction">
  
  
    <a href="#registerforbidtechfromconquestfunction">&#128279</a> registerForbidTechFromConquestFunction
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.registerForbidTechFromConquestFunction(forbidTechFromConquest: fun(tech: techObject, conqueringTribe: tribeObject, losingTribe: tribeObject):boolean)
</code></pre></div></div>
<p>Register a function to determine whether a tribe can receive a technology when conquering another tribe’s city.<br /><br />
forbidTechFromConquest(tech,conqueringTribe,losingTribe)–&gt;bool
 If true, the <code class="language-plaintext highlighter-rouge">conqueringTribe</code> can’t receive the <code class="language-plaintext highlighter-rouge">tech</code>
 from the <code class="language-plaintext highlighter-rouge">losingTribe</code> as a result of conquering a city
 owned by the <code class="language-plaintext highlighter-rouge">losingTribe</code>.
 If false (or nil), the <code class="language-plaintext highlighter-rouge">conqueringTribe</code> can receive the <code class="language-plaintext highlighter-rouge">tech</code>
 from the <code class="language-plaintext highlighter-rouge">losingTribe</code> as a result of conquering a city
 owned by the <code class="language-plaintext highlighter-rouge">losingTribe</code>.</p>
<h3 id="registerforbidtechtheftfunction">
  
  
    <a href="#registerforbidtechtheftfunction">&#128279</a> registerForbidTechTheftFunction
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.registerForbidTechTheftFunction(forbidTechTheft: fun(tech: techObject, thievingTribe: tribeObject, thievingUnit: unitObject):boolean)
</code></pre></div></div>
<p>Register a function to determine whether a tribe can
 steal a technology using a diplomatic (role 6) unit.<br /><br />
 forbidTechTheft(tech,thievingTribe,thievingUnit)–&gt;boolean
 If true, the <code class="language-plaintext highlighter-rouge">thievingTribe</code> can’t steal the <code class="language-plaintext highlighter-rouge">tech</code>
 from another tribe using the <code class="language-plaintext highlighter-rouge">thievingUnit</code> (if it has 
 role 6 for diplomatic units).
 If false (or nil), the <code class="language-plaintext highlighter-rouge">thievingTribe</code> can steal the <code class="language-plaintext highlighter-rouge">tech</code>.
 (The giving tribe can’t be specified, because there isn’t a
 way to control which tribe the spy or diplomat steals from.)</p>
<h3 id="registerforbidtechtradefunction">
  
  
    <a href="#registerforbidtechtradefunction">&#128279</a> registerForbidTechTradeFunction
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.registerForbidTechTradeFunction(forbidTechTrade: fun(tech: techObject, receiverTribe: tribeObject, giverTribe: tribeObject):boolean)
</code></pre></div></div>
<p>Register a function to determine whether a tribe can receive a technology from another tribe through diplomacy.<br /><br />
 forbidTechTrade(tech,receiverTribe,giverTribe)–&gt;bool
 If true, the <code class="language-plaintext highlighter-rouge">giverTribe</code> can’t give or trade the tech
 to the <code class="language-plaintext highlighter-rouge">receiverTribe</code>. (Either in in-game negotiations, or
 using the diplomacy module’s gift system.)
 If false (or nil), the <code class="language-plaintext highlighter-rouge">giverTribe</code> can give or trade the tech
 to the <code class="language-plaintext highlighter-rouge">receiverTribe</code>.</p>
<h3 id="reservedtechgroup">
  
  
    <a href="#reservedtechgroup">&#128279</a> reservedTechGroup
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>diplomacy.reservedTechGroup --&gt; integer
</code></pre></div></div>
<h3 id="resetendogenoustreatychanges">
  
  
    <a href="#resetendogenoustreatychanges">&#128279</a> resetEndogenousTreatyChanges
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.resetEndogenousTreatyChanges(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Calling this function changes whether <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> can change their treaty status with each other through diplomacy.  Ordinarily, the
ability to change treaty status is enabled by default (in which case this function restores the default behaviour after a call to <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChanges</code>).  However, if <code class="language-plaintext highlighter-rouge">diplomacy.disableEndogenousTreatyChangesByDefault</code> was called during initialization, then the ability to change treaty status is disabled by default (in which case this function restores the default behaviour after a call to <code class="language-plaintext highlighter-rouge">diplomacy.enableEndogenousTreatyChanges</code>).</p>
<h3 id="setalliance">
  
  
    <a href="#setalliance">&#128279</a> setAlliance
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setAlliance(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that an alliance exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="setceasefire">
  
  
    <a href="#setceasefire">&#128279</a> setCeaseFire
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setCeaseFire(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that a cease fire exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="setcontact">
  
  
    <a href="#setcontact">&#128279</a> setContact
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setContact(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that “contact” exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="setdiplomacyreversalmessage">
  
  
    <a href="#setdiplomacyreversalmessage">&#128279</a> setDiplomacyReversalMessage
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setDiplomacyReversalMessage(message: string|false|nil)
</code></pre></div></div>
<p>Sets the message that is displayed when a treaty change is undone.
%STRING1 and %STRING2 are replaced with the names of the tribes that
changed their treaty status.
Calling this function with a value of nil or false will prevent a message
from being displayed.
The default value is “You may have received a message that the %STRING1 and %STRING2 have changed their treaty status.  This has been undone.”</p>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- A string is a data type native to Lua which consists of a sequence of characters. These often represent text to be displayed, but are also useful in other contexts. Strings are commonly used as keys in tables, since they make code more readable.</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Programming in Lua, 2.4 -- Strings](https://www.lua.org/pil/2.4.html)</span>
<span class="c1">-- A string is a data type native to Lua which consists of a sequence of characters. These often represent text to be displayed, but are also useful in other contexts. Strings are commonly used as keys in tables, since they make code more readable.</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Programming in Lua, 2.4 -- Strings](https://www.lua.org/pil/2.4.html)</span>
<span class="c1">-- The 'nil' data type has a single value nil, and tends to represent the absence of a value. Nil is a data type which is native to Lua, and is considered 'falsy' in logical statements. Unassigned keys in a table return nil as their value.</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Programming in Lua, 2.1 -- Nil](https://www.lua.org/pil/2.1.html)</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Tutorialspoint Lua -- Data Types](https://www.tutorialspoint.com/lua/lua_data_types.htm)</span>
<span class="c1">-- The 'nil' data type has a single value nil, and tends to represent the absence of a value. Nil is a data type which is native to Lua, and is considered 'falsy' in logical statements. Unassigned keys in a table return nil as their value.</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Programming in Lua, 2.1 -- Nil](https://www.lua.org/pil/2.1.html)</span>
<span class="c1">-- &lt;br&gt;</span>
<span class="c1">-- [Tutorialspoint Lua -- Data Types](https://www.tutorialspoint.com/lua/lua_data_types.htm)</span>
<span class="n">message</span><span class="p">:</span>
    <span class="err">\|</span> <span class="kc">false</span>
</code></pre></div></div>
<h3 id="setembassywith">
  
  
    <a href="#setembassywith">&#128279</a> setEmbassyWith
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setEmbassyWith(ownerTribe: tribeObject, hostTribe: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that the <code class="language-plaintext highlighter-rouge">ownerTribe</code> has an embassy with the <code class="language-plaintext highlighter-rouge">hostTribe</code>.  That is, the <code class="language-plaintext highlighter-rouge">ownerTribe</code> will receive an intelligence reports about <code class="language-plaintext highlighter-rouge">hostTribe</code>.</p>
<h3 id="seteventtreatiesonly">
  
  
    <a href="#seteventtreatiesonly">&#128279</a> setEventTreatiesOnly
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setEventTreatiesOnly(eventTreatiesMsg: string)
</code></pre></div></div>
<p>Generates an error, so the scenario designer knows to update
to the new diplomacy functions.</p>
<h3 id="setpeacetreaty">
  
  
    <a href="#setpeacetreaty">&#128279</a> setPeaceTreaty
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setPeaceTreaty(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that a peace treaty exists between <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code>.</p>
<h3 id="setvendettawith">
  
  
    <a href="#setvendettawith">&#128279</a> setVendettaWith
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setVendettaWith(angryTribe: tribeObject, offendingTribe: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that the <code class="language-plaintext highlighter-rouge">angryTribe</code> has a vendetta with the <code class="language-plaintext highlighter-rouge">offendingTribe</code>.</p>
<h3 id="setwar">
  
  
    <a href="#setwar">&#128279</a> setWar
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.setWar(tribe1: tribeObject, tribe2: tribeObject)
</code></pre></div></div>
<p>Sets treaties so that <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> are at war with each other.
(Note, you may also have to use <code class="language-plaintext highlighter-rouge">civ.makeAggression</code> to make the tribes actually fight each other.)</p>
<h3 id="techtransfertabletofunctions">
  
  
    <a href="#techtransfertabletofunctions">&#128279</a> techTransferTableToFunctions
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.techTransferTableToFunctions(stopTechTransferTable: table)
  -&gt; forbidTechTrade: fun(tech: techObject, receiverTribe: tribeObject, giverTribe: tribeObject):boolean
  2. forbidTechFromConquest: fun(tech: techObject, conqueringTribe: tribeObject, losingTribe: tribeObject):boolean
  3. forbidTechTheft: fun(tech: techObject, thievingTribe: tribeObject, thievingUnit: unitObject):boolean
</code></pre></div></div>
<p>stopTechTransferTable[techObject.id] = {
    * noPrereqs = bool
        - If true, then the tech can’t be given or traded to another tribe, or conquered, or stolen, if the receiving tribe doesn’t have the tech’s prerequisites.
        - If false (or nil), a tribe can receive the tech even if it  doesn’t have the tech’s prerequisites.
    * noTrade = bool
        - If true, then the tech can’t be given or traded to another tribe.
        - If false (or nil), a tribe can receive the tech through diplomacy.
    * noConquest = bool
        - If true, then the tech can’t be received by conquering a city.
        - If false (or nil), a tribe can receive the tech by conquering a city.
    * noTheft = bool
        - If true, then the tech can’t be stolen with a diplomat or spy.
        - If false (or nil), a tribe can steal the tech.
    }
    If there is no value for a particular tech object, then all these
    values are considered false</p>

<p>@<em>param</em> <code class="language-plaintext highlighter-rouge">stopTechTransferTable</code> — stopTechTransferTable[techObject.id] = {noPrereqs=bool,noTrade=bool,noConquest=bool,noTheft=bool}</p>
<h3 id="warexists">
  
  
    <a href="#warexists">&#128279</a> warExists
  
  
</h3>
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function diplomacy.warExists(tribe1: tribeObject, tribe2: tribeObject)
  -&gt; boolean
</code></pre></div></div>
<p>Returns true if <code class="language-plaintext highlighter-rouge">tribe1</code> and <code class="language-plaintext highlighter-rouge">tribe2</code> are at war with each other, and false otherwise.  (Note that if tribes have no contact with each other, they can attack each other’s units but will not be at war.)</p>
 -->
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
<!--        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
-->
<!--
-->
      </div>
      <div class="footer-col">
        <p>Reference materials and lessons for using Lua to program events for Civilization II: Test of Time</p>
      </div>
    </div>

    <div class="social-links">
<ul class="social-media-list">
  <li><a rel="me" href="https://github.com/ProfGarfield" target="_blank" title="ProfGarfield"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg>ProfGarfield</a></li>
  <li><a rel="me" href="https://www.youtube.com/user/ProfCiv2" target="_blank" title="YouTube"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#youtube"></use></svg>ProfCiv2</a></li>
  <li><a rel="me" href="https://forums.civfanatics.com/members/prof-garfield.43783/" target="_blank" title="Civfanatics Profile"><img src="/assets/civfanatics_icon.png" class="svg-icon grey"></img>Prof. Garfield</a></li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
